{% extends 'base.html.twig' %}
{% block body %}
    <div class="my-container">
        <!-- HEADER -->
        <div class="header">
            {% include 'header.html.twig' %}
        </div>

        <!-- BANNER -->
        <div class="content-large">
            <img src="{{ asset('images/snowTricks.jpg') }}" alt="snowTricks-banner" class="banner-image">
            <div class="titre-banner">
                <h1 class="text-warning">SnowTricks</h1>
                <p class="text-light">Un site communautaire pour apprendre les figures de snowboard.</p>
            </div>
            <div class="fleche-bas">
                <a href="#tricks-part-homepage"><i class="fa-solid fa-arrow-down fleche-bas"></i></a>
            </div>
        </div>
    </div>

    <!-- DISPLAY TRICKS -->
    <div class="grid-container" id="tricks-part-homepage">
        {% if tricks %}
                {% for figure in tricks %}

                        <div class="card grid-item d-flex justify-content-between">
                            <a href="{{ path('app_trick', {id: figure.id}) }}">
                                {% if images %}
                                    {% for image in images %}
                                        {% if image.id is same as figure.mainImage.id %}
                                            <img src="/uploads/{{ image.url }}" class="card-img-top" alt={{ figure.title }}>
                                        {% endif %}
                                    {% endfor %}
                                {% endif %}

                                <div class="card-body d-flex justify-content-around align-items-center pt-3 pb-0">
                                        <h5 class="card-title">{{ figure.title }}</h5>
                                        <a href="{{ path('app_modify_trick', {id: figure.id}) }}">
                                        <i class="fa-solid fa-pencil"></i>
                                        </a>
                                        <a href="{{ path('app_delete_trick', {id: figure.id}) }}">
                                        <i class="fa-solid fa-trash-can"></i>
                                        </a>
                                </div>
                            </a>
                        </div>

                {% endfor%}

                {% if tricks |length  > 10 %}
                    <div id="loading">
                        <button type="button" id="load-more" class="btn btn-lg btn-outline-warning" onclick="addMore()">Load more</button>
                    </div>

                    <div class="fleche-haut d-flex justify-content-end">
                        <a href="#tricks-part-homepage"><i class="fa-solid fa-arrow-up"></i></a>
                    </div>
                {% endif %}
        {% endif %}
    </div>

    {% include 'footer.html.twig' %}
{% endblock %}
